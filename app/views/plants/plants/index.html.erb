<%= render(HeaderComponent.new(title: "Plants")) do |c| %>
  <%= c.with_crumb("Home", home_path) %>
  <%= c.with_action do %>
    <%= link_to("New Plant", new_plant_path, class: "button") %>
  <% end %>
<% end %>

<div class="flex gap-4 flex-wrap">
  <% @plants.each do |plant| %>
    <%= link_to(
      plant_path(plant),
      data: {role: "plant"},
      class: "border-2 border-green-500 rounded-md p-4 min-w-32 block
              hover:bg-green-50 transition-colors"
    ) do %>
      <% if plant.key_image&.file&.attached? %>
        <div class="mb-2">
          <%= image_tag(
            plant.key_image.file.variant(resize_to_limit: [320, 320]),
            loading: "lazy"
          ) %>
        </div>
      <% end %>
      <div class="font-medium"><%= plant.name %></div>
    <% end %>
  <% end %>

  <span class="hidden only:block text-gray-500">No plants yet</span>
</div>
