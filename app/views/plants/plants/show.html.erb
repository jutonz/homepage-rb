<%= render(HeaderComponent.new(title: @plant.name)) do |c| %>
  <%= c.with_crumb("Home", home_path) %>
  <%= c.with_crumb("Plants", plants_path) %>
  <%= c.with_action do %>
    <%= link_to(
      "Add Image",
      new_plant_plant_image_path(@plant),
      class: "button"
    ) %>
  <% end %>
  <%= c.with_action do %>
    <%= link_to("Edit", edit_plant_path(@plant), class: "button") %>
  <% end %>
  <%= c.with_action do %>
    <%= button_to(
      "Delete",
      plant_path(@plant),
      method: :delete,
      data: {turbo_confirm: "Are you sure?"},
      class: "button button--danger"
    ) %>
  <% end %>
<% end %>

<% if @plant.notes.present? %>
  <div class="mt-8">
    <h2 class="text-lg font-medium mb-2">Notes</h2>
    <div class="prose prose-gray max-w-none">
      <%= @plant.notes %>
    </div>
  </div>
<% end %>

<% if @plant.purchased_at.present? || @plant.purchased_from.present? %>
  <div class="mt-8">
    <h2 class="text-lg font-medium mb-2">Purchase</h2>
    <% if @plant.purchased_at.present? %>
      <div>
        <span class="font-medium">Purchased at:</span>
        <%= l(@plant.purchased_at) %>
      </div>
    <% end %>
    <% if @plant.purchased_from.present? %>
      <div>
        <span class="font-medium">Purchased from:</span>
        <%= @plant.purchased_from %>
      </div>
    <% end %>
  </div>
<% end %>

<div class="mt-8">
  <h2 class="text-lg font-medium mb-3">Images</h2>
  <% if @plant_images.any? %>
    <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
      <% @plant_images.each do |plant_image| %>
        <%= render(
          Plants::PlantImageComponent.new(plant_image: plant_image)
        ) %>
      <% end %>
    </div>
  <% else %>
    <div class="text-gray-500">No images yet.</div>
  <% end %>
</div>
